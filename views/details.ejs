<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="/styles/index.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <title>Casa: details</title>
</head>

<body class="bg">
    <!--Header-->
    <%- include("partials/header.ejs") %>

    <div class="container py-5">
        <h1 class="display-5 fw-bold lh-1 text blueText"><%= buildingName %></h1>

        <div id="carouselDisplay" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner-details">
                <% pictureArray.forEach((picture, picIndex) => { %>
                <div class="carousel-item <%= picIndex === 0 ? 'active' : '' %>">
                    <img src="<%= picture %>" alt="Image">
                </div>
                <% }) %>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselDisplay" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselDisplay" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <div class="row">
            <!-- Details Section with Border and Checkout Box -->
            <div class="col-12">
                <div class="post-details-container-details border rounded">
                    <!-- Post Details Content -->
                    <div class="post-details-content-details">
                        <p class="lead text pt-3 postDetails"><strong>Location: </strong><%= city %>, <%= town %>, <%= address %></p>
                        <p class="lead text pt-3 postDetails"><strong>Size: </strong> <%= size %> „é°, <%= bedrom %> bed, <%= bathroom %> bath</p>
                        <ul class="lead text postDetails">
                            <li><strong>Pool: </strong><%= pool === 'true' ? 'Yes' : 'No' %></li>
                            <% if (pool === 'true' && poolSize) { %>
                            <li><strong>Pool Size: </strong><%= poolSize %></li>
                            <% } %>
                            <li><strong>Room Service: </strong><%= roomService === 'true' ? 'Yes' : 'No' %></li>
                        </ul>
                        <hr style="border: 1px solid white;">
                        <% if (pool === 'true' && poolSize) { %>
                        <p style="text-decoration: underline;" class="lead text pt-1 postDetails">Comments: </p>
                        <p class="lead text pt-0 postDetails"><%= commentsText %></p>
                        <hr style="border: 1px solid white;">
                        <% } %>
                        <p class="lead text pt-3 postDetails"><%= price %> LYD a night</p>
                    </div>
                                
                    <!-- Checkout Box -->
                    <div class="checkout-box-details border rounded" data-price="<%= price %>">
                        <h4 class="text">Book Your Stay</h4>
                        <label for="checkin-date">Check-in Date:</label>
                        <input type="date" id="checkin-date" class="form-control mb-3" />

                        <label for="checkout-date">Check-out Date:</label>
                        <input type="date" id="checkout-date" class="form-control mb-3" />

                        <p class="text" style="font-size: medium;">Total Days: <span id="total-days">0</span></p>
                        <p class="text" style="font-size: medium;">Total Cost: <span id="total-cost">0</span> LYD</p>

                        <!-- Name Input -->
                        <label for="guest-name">Name:</label>
                        <input type="text" id="guest-name" class="form-control mb-3" placeholder="Enter your name" />

                        <!-- Phone Number Input -->
                        <label for="phone-number">Phone Number:</label>
                        <input type="tel" id="phone-number" class="form-control mb-3" placeholder="Enter your phone number" />

                        <!-- Number of Guests Input -->
                        <label for="number-of-guests">Number of Guests:</label>
                        <input type="number" id="number-of-guests" class="form-control mb-3" placeholder="Enter number of guests" min="1" />
                        
                        <button class="btn btn-primary mt-3" onclick="saveDates()">Book</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Footer-->
    <%- include("partials/footer.ejs") %>
    <script src="/scripts/checkout.js"></script>
</body>

</html>
